<style> 
  @font-face {
      font-family: 'conicle';
      src: url(https://cdn.jsdelivr.net/gh/sthira-conicle/conicle-border-radius@latest/fonts/db_heaventrounded_reg.woff2) format("woff2");
      font-weight: 400;
      font-weight: normal;
      font-style: normal;
  }
  @font-face {
      font-family: 'conicle';
      src: url(https://cdn.jsdelivr.net/gh/sthira-conicle/conicle-border-radius@latest/fonts/db_heaventrounded_med.woff2) format("woff2");
      font-weight: 500;
      font-weight: medium;
      font-style: normal;
  }
  @font-face {
      font-family: 'conicle';
      src: url(https://cdn.jsdelivr.net/gh/sthira-conicle/conicle-border-radius@latest/fonts/db_heaventrounded_bold.woff2) format("woff2");
      font-weight: 700;
      font-weight: bold;
      font-style: normal;
  }
  :root {
    font-size: 14px;
    --color-cool-grey-50: #F7F7F8;
    --color-cool-grey-100: #EBECF0;
    --color-cool-grey-200: #DBDDE3;
    --color-cool-grey-300: #C6C9D2;
    --color-cool-grey-400: #AEB2BB;
    --color-cool-grey-500: #9296A0;
    --color-cool-grey-600: #797D86;
    --color-cool-grey-700: #63666E;
    --color-cool-grey-800: #4F5259;
    --color-cool-grey-900: #3E4045;
    --color-cool-grey-925: #2E3033;
    --color-cool-grey-950: #212224;
    --color-cool-grey-975: #161617;

    --color-primary-50: #FFF1EF;
    --color-primary-100: #FFDBD4;
    --color-primary-200: #FFB8AE;
    --color-primary-300: #FF8D84;
    --color-primary-400: #FF5E5C;
    --color-primary-500: #FF2E38;
    --color-primary-600: #DF001F;
    --color-primary-700: #BC000E;
    --color-primary-800: #98000B;
    --color-primary-900: #740610;
    --color-primary-925: #521313;
    --color-primary-950: #351412;
    --color-primary-975: #1E100F;

    --color-secondary-50: #EFF7FF;
    --color-secondary-100: #D6ECFF;
    --color-secondary-200: #B1DCFF;
    --color-secondary-300: #88C4FF;
    --color-secondary-400: #60A7FF;
    --color-secondary-500: #3D87FF;
    --color-secondary-600: #266EE1;
    --color-secondary-700: #1658BF;
    --color-secondary-800: #11479A;
    --color-secondary-900: #123874;
    --color-secondary-925: #142B51;
    --color-secondary-950: #131F33;
    --color-secondary-975: #0F141D;
  }
  body,div,p,span,input,button {
    font-size: 1rem;
    font-family: 'conicle', sans-serif;
    color: var(--color-cool-grey-700);
    line-height: 1.5;
  }
  h1,h2,h3,h4,h5,h6 {
    color: var(--color-cool-grey-900);
    margin: 0;
    font-weight: 500;
  }
  h5,h6{
    font-weight: 400;
    color: var(--color-cool-grey-500);
  }
  body {
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    height: 100%;
  }
  .container{
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 16px;
    height: 100%;
    overflow-y: auto;
    flex: 1 1 auto;
  }
  .logo {flex: 0 0 auto;}
  .style-section {display:flex;}
  .style-section > input[type='radio'] {display:none;}
  .style-section > input + label {border:1px solid var(--color-cool-grey-100); flex: 1 1 0; display:block; text-align: center; padding:8px 12px; font-weight: 500;}
  .style-section > input:hover + label {background-color: var(--color-cool-grey-50);}
  .style-section > input:checked + label {background:var(--color-primary-50); color:var(--color-primary-500); border:1px solid var(--color-primary-200); z-index: 99;}
  .style-section > input:checked:hover + label {background-color: var(--color-primary-100);}
  .style-section > input + label {margin-left: -0.5px; margin-right: -0.5px;}
  .style-section > input + label:first-of-type {margin-left: 0; border-top-left-radius: 999px; border-bottom-left-radius: 999px;}
  .style-section > input + label:last-of-type {margin-right: 0; border-top-right-radius: 999px; border-bottom-right-radius: 999px;}
  .footer {
    padding: 12px 16px;
    flex: 0 0 auto;
    display: flex;
    gap: 8px;
  }
  button {
    border:none;
    border-radius: 999px;
    padding:8px 12px;
    font-weight: 500;
    flex: 1 1 0;
  }
  button.primary {
    background-color: var(--color-primary-500);
    color: #fff;
  }
  button.primary:hover, button.primary:active {
    background-color: var(--color-primary-600);
    color: #fff;
  }
  button.dismissive {
    background-color: #fff;
    color: var(--color-cool-grey-700);
    border: none;
  }
  button.dismissive:hover, button.dismissive:active {
    background-color: var(--color-cool-grey-50);
  }
  .section-container {
    display: flex;
    flex-direction: row;
    gap: 16px;
  }
  .corner-select-section, .option-section {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }
  .corner-select-box {
    display: grid;
    grid-template-columns: auto auto;
    width: 52px;
    height: 52px;
  }
  .corner-select {
    appearance: none;
    -webkit-appearance: none;
    margin: 0;
    padding: 0;
    display: block;
    border: 1px solid var(--color-cool-grey-100);
    padding: 4px;
  }
  .corner-select::before {
    content: "";
    display: block;
    width: 100%;
    height: 100%;
    border: 0 solid var(--color-cool-grey-500);
    box-sizing: border-box;
  }
  .corner-select:checked::before {
    border-color: var(--color-primary-500);
  }
  .corner-select:hover {
    background-color: var(--color-cool-grey-50);
  }
  .corner-select:checked {
    background-color: var(--color-primary-50);
    border-color: var(--color-primary-200);
    z-index: 99;
  }
  .corner-select:checked:hover {
    background-color: var(--color-primary-100);
  }
  .corner-select.top-left {
    border-top-left-radius: 6px;
    margin-right: -0.5px;
    margin-bottom: -0.5px;
  }
  .corner-select.top-right {
    border-top-right-radius: 6px;
    margin-left: -0.5px;
    margin-bottom: -0.5px;
  }
  .corner-select.bottom-left {
    border-bottom-left-radius: 6px;
    margin-right: -0.5px;
    margin-top: -0.5px;
  }
  .corner-select.bottom-right {
    border-bottom-right-radius: 6px;
    margin-left: -0.5px;
    margin-top: -0.5px;
  }
  .corner-select.top-left::before {
    border-top-left-radius: 4px;
    border-top-width: 1.5px;
    border-left-width: 1.5px;
  }
  .corner-select.top-right::before {
    border-top-right-radius: 4px;
    border-top-width: 1.5px;
    border-right-width: 1.5px;
  }
  .corner-select.bottom-left::before {
    border-bottom-left-radius: 4px;
    border-bottom-width: 1.5px;
    border-left-width: 1.5px;
  }
  .corner-select.bottom-right::before {
    border-bottom-right-radius: 4px;
    border-bottom-width: 1.5px;
    border-right-width: 1.5px;
  }
  .option-section label {
    display: flex;
    flex-direction: row;
    gap: 6px;
    align-items: flex-start;
  }
  .option-section input[type='checkbox'] {
    display: none;
  }
  .toggle-button {
    padding: 3px;
    border: 1px solid var(--color-cool-grey-100);
    border-radius: 4px;
  }
  label:hover .toggle-button {
    background-color: var(--color-cool-grey-50);
  }
  input:checked + label .toggle-button {
    background-color: var(--color-primary-50);
    border-color: var(--color-primary-200);
  }
  input:checked + label:hover .toggle-button {
    background-color: var(--color-primary-100);
  }
  .toggle-button svg{
    --color1: var(--color-cool-grey-300);
    --color2: var(--color-cool-grey-500);
  }
  input:checked + label .toggle-button svg{
    --color1: var(--color-primary-300);
    --color2: var(--color-primary-500);
  }
</style>
<div class="container">
<div class="header">
<svg class="logo" width="53.095" height="14.0" viewBox="0 0 1517 400" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_73_2233)">
  <path d="M870.86 388.1C851.63 388.1 836.57 372.91 836.57 353.52L836.56 173.79C836.56 154.64 851.62 139.64 870.85 139.64C890.08 139.64 905.14 154.64 905.14 173.79L905.15 353.52C905.15 372.9 890.08 388.1 870.86 388.1ZM870.86 124.68C849.56 124.68 832.24 107.35 832.24 86.0599C832.24 64.7599 849.57 47.4399 870.86 47.4399C892.16 47.4399 909.48 64.7699 909.48 86.0599C909.48 107.35 892.15 124.68 870.86 124.68Z" fill="#FF2E38"/>
  <path d="M1059.67 388.5C1025.38 388.5 993.75 375.62 970.6 352.23C947.67 329.06 935.05 297.69 935.05 263.88C935.05 230.08 947.68 198.7 970.6 175.53C993.75 152.14 1025.38 139.26 1059.67 139.26C1095.51 139.26 1130.27 154.05 1150.38 177.87C1156.35 185.03 1159.75 193.45 1159.75 201.01C1159.75 219.52 1145.24 233.48 1125.99 233.48C1113.28 233.48 1106.01 227.18 1100.16 222.12L1098.61 220.78L1098.32 220.5C1087.35 209.53 1074.71 204.2 1059.68 204.2C1028.39 204.2 1003.88 230.41 1003.88 263.88C1003.88 296.79 1028.91 323.56 1059.68 323.56C1079.31 323.56 1091.95 313.44 1097.74 307.41L1098.09 307.04L1098.48 306.71C1099.12 306.16 1099.76 305.6 1100.39 305.05C1106.28 299.87 1113.62 293.42 1125.99 293.42C1145.24 293.42 1159.75 307.75 1159.75 326.75C1159.75 334.18 1156.22 342.53 1150.3 349.13C1129.82 373.79 1095.96 388.5 1059.67 388.5Z" fill="#FF2E38"/>
  <path d="M1225.71 388.14H1225.67H1225.63C1215.7 388.14 1206.7 384.11 1200.19 377.6C1193.68 371.09 1189.65 362.1 1189.65 352.16V219.05V85.94C1189.65 76.05 1193.66 67.1 1200.14 60.62C1206.62 54.14 1215.57 50.13 1225.46 50.13H1225.5H1225.54C1235.52 50.13 1244.56 54.18 1251.1 60.72C1257.64 67.26 1261.69 76.3 1261.69 86.28V219.22V352.16C1261.69 362.09 1257.66 371.09 1251.15 377.6C1244.64 384.11 1235.65 388.14 1225.71 388.14Z" fill="#FF2E38"/>
  <path d="M772.36 388.14C753.13 388.14 738.07 372.96 738.07 353.58V248.53C738.07 221.33 723.08 204.44 698.95 204.44C674.82 204.44 659.83 221.34 659.83 248.53V353.58C659.83 372.96 644.77 388.14 625.54 388.14C606.31 388.14 591.25 372.96 591.25 353.58V250.25C591.25 217.86 602.07 190.01 622.53 169.71C642.08 150.31 669.22 139.63 698.96 139.63C728.7 139.63 755.84 150.31 775.39 169.71C795.85 190.01 806.67 217.86 806.67 250.25V353.58C806.65 372.64 791.27 388.14 772.36 388.14Z" fill="#FF2E38"/>
  <path d="M1482.53 293.42C1470.16 293.42 1462.82 299.87 1456.93 305.05C1456.3 305.6 1455.67 306.16 1455.02 306.71L1454.63 307.04L1454.28 307.41C1448.49 313.44 1435.85 323.56 1416.22 323.56C1386.41 323.56 1361.99 298.44 1360.49 266.95C1360.44 265.93 1360.42 264.91 1360.42 263.88C1360.42 230.41 1384.93 204.2 1416.23 204.2C1427.74 204.2 1437.84 207.34 1446.86 213.72L1399.24 261.34C1389.51 271.07 1389.51 286.85 1399.24 296.58C1404.11 301.45 1410.48 303.88 1416.86 303.88C1423.24 303.88 1429.61 301.45 1434.48 296.58L1506.04 225.02C1506.75 224.31 1507.4 223.56 1508 222.78C1513.21 217.1 1516.29 209.54 1516.29 201.01C1516.29 198.96 1516.03 196.86 1515.55 194.73C1514.25 188.99 1511.27 183.09 1506.92 177.87C1486.81 154.05 1452.05 139.26 1416.21 139.26C1381.92 139.26 1350.29 152.14 1327.14 175.53C1304.21 198.7 1291.59 230.07 1291.59 263.88C1291.59 297.68 1304.22 329.06 1327.14 352.23C1350.29 375.62 1381.92 388.5 1416.21 388.5C1452.5 388.5 1486.36 373.79 1506.84 349.12C1512.76 342.52 1516.29 334.17 1516.29 326.74C1516.29 324.36 1516.06 322.06 1515.63 319.85C1512.59 304.39 1499.37 293.42 1482.53 293.42Z" fill="#FF2E38"/>
  <path d="M472.58 143.42C444.93 136.11 417 138.69 392.52 148.98C358.12 163.45 330.56 193.16 320.28 232.03C305.5 287.91 255.03 324.85 199.82 324.81C189.3 324.8 178.62 323.45 167.97 320.64C155.58 317.37 144.11 312.33 133.78 305.87C88.6499 277.7 65.0599 222.47 79.3699 168.34C94.1399 112.46 144.62 75.53 199.82 75.56C210.34 75.57 221.02 76.92 231.67 79.73C244.04 83 255.48 88.02 265.8 94.46C266.61 94.96 267.45 95.42 268.31 95.86C268.58 96 268.85 96.14 269.13 96.27C269.23 96.32 269.32 96.36 269.42 96.41C271.49 97.4 273.66 98.21 275.91 98.82C277.64 99.28 279.43 99.61 281.25 99.82C297.64 101.86 314.39 93.54 320.92 77.76C327.19 62.62 322.15 45.17 310.28 34.66C310.27 34.65 310.25 34.64 310.24 34.63C307.97 32.62 305.45 30.87 302.71 29.44C286.9 19.92 269.52 12.43 250.79 7.47998C233.76 2.96998 216.66 0.819968 199.83 0.809968C111.5 0.759968 30.7399 59.84 7.10989 149.25C-15.7901 235.86 21.9699 324.23 94.1699 369.3C110.71 379.63 129.05 387.68 148.88 392.93C165.91 397.44 183.01 399.59 199.84 399.6C253.85 399.63 305.03 377.55 342.05 339.95C358.24 360.99 381.25 377.04 408.9 384.35C475.42 401.94 543.61 362.27 561.2 295.75C578.77 229.2 539.1 161.01 472.58 143.42ZM488.91 276.62C481.87 303.23 454.6 319.1 427.99 312.06C401.38 305.03 385.51 277.75 392.55 251.14C399.59 224.53 426.86 208.66 453.47 215.7C480.08 222.73 495.95 250.01 488.91 276.62Z" fill="#FF2E38"/>
  </g>
  <defs>
  <clipPath id="clip0_73_2233">
  <rect width="1517" height="400" fill="white"/>
  </clipPath>
  </defs>
</svg>
<h2 class="heading">Corner rounder</h2>
</div>
<div class="style-section">
  <input type="radio" name="style" id="style-user" value="user" checked>
  <label for="style-user">User</label>
  <input type="radio" name="style" id="style-admin" value="admin">
  <label for="style-admin">Admin</label>
</div>
<div class="section-container">
  <div class="corner-select-section">
    <h5>Corners</h5>
    <div class="corner-select-box">
      <input type="checkbox" class="corner-select top-left" name="corner-top-left" id="corner-top-left" checked><input type="checkbox" class="corner-select top-right" name="corner-top-right" id="corner-top-right" checked>
      <input type="checkbox" class="corner-select bottom-left" name="corner-bottom-left" id="corner-bottom-left" checked><input type="checkbox" class="corner-select bottom-right" name="corner-bottom-right" id="corner-bottom-right" checked>
    </div>
  </div>
  <div class="option-section">
    <h5>Options</h5>
    <input type="checkbox" name="variable" id="variable" checked>
    <label for="variable">
      <div class="toggle-button">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M7.625 1.22687L11.6872 3.57217C12.0739 3.79546 12.3122 4.20812 12.3122 4.6547V9.3453C12.3122 9.79188 12.0739 10.2045 11.6872 10.4278L7.625 12.7731C7.23825 12.9964 6.76175 12.9964 6.375 12.7731L2.31282 10.4278C1.92607 10.2045 1.68782 9.79188 1.68782 9.3453V4.6547C1.68782 4.20812 1.92607 3.79546 2.31282 3.57217L6.375 1.22687C6.76175 1.00358 7.23825 1.00358 7.625 1.22687Z" stroke="var(--color2)" stroke-width="1.5"/>
          <circle cx="7" cy="7" r="1.5" fill="var(--color2)"/>
        </svg>                      
      </div>
      Set as variable
    </label>
    <input type="checkbox" name="nested" id="nested">
    <label for="nested">
      <div class="toggle-button">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M13.5 1.25H12C6.06294 1.25 1.25 6.06294 1.25 12V13.5" stroke="var(--color1)" stroke-width="1.5"/>
          <circle cx="4.40039" cy="4.40234" r="1.5" fill="var(--color1)"/>
          <path d="M8.46577 8.4687L4.40039 4.40234" stroke="var(--color1)" stroke-width="1.5"/>
          <path d="M13.5 7H12C9.23858 7 7 9.23858 7 12V13.5" stroke="var(--color2)" stroke-width="1.5"/>
          <circle cx="8.46582" cy="8.46875" r="1.5" fill="var(--color2)"/>
        </svg>            
      </div>
      Is inner corner
    </label>
    <input type="checkbox" name="children" id="children">
    <label for="children">
      <div class="toggle-button">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M6 3.75H11C12.2426 3.75 13.25 4.75736 13.25 6V12C13.25 12.6904 12.6904 13.25 12 13.25H6C4.75736 13.25 3.75 12.2426 3.75 11V6C3.75 4.75736 4.75736 3.75 6 3.75Z" stroke="var(--color1)" stroke-width="1.5"/>
          <path d="M4 0.75H10C11.7949 0.75 13.25 2.20507 13.25 4V12C13.25 12.6904 12.6904 13.25 12 13.25H4C2.20507 13.25 0.75 11.7949 0.75 10V4C0.75 2.20507 2.20507 0.75 4 0.75Z" stroke="var(--color1)" stroke-width="1.5"/>
          <rect x="6.75" y="6.75" width="6.5" height="6.5" rx="1.25" stroke="var(--color2)" stroke-width="1.5"/>
        </svg>             
      </div>     
      Apply to all children
    </label>
    <input type="checkbox" name="override" id="override">
    <label for="override">
      <div class="toggle-button">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="7" y="0.283316" width="9.5" height="9.5" rx="1.25" transform="rotate(45 7 0.283316)" stroke="var(--color2)" stroke-width="1.5"/>
        </svg>                              
      </div>     
      Override instances
    </label>
  </div>
</div>
</div>
<div class="footer">
  <button id="close" class="dismissive">Close</button>
  <button id="round" class="primary">Round it!</button>
</div>
<script>

document.getElementById('round').onclick = () => {
  let style = document.querySelector('input[name="style"]:checked').value;
  let corners = [document.querySelector('input[name="corner-top-left"]').checked, document.querySelector('input[name="corner-top-right"]').checked, document.querySelector('input[name="corner-bottom-left"]').checked, document.querySelector('input[name="corner-bottom-right"]').checked];
  let variable = document.querySelector('input[name="variable"]').checked;
  let nested = document.querySelector('input[name="nested"]').checked;
  let children = document.querySelector('input[name="children"]').checked;
  let override = document.querySelector('input[name="override"]').checked;
  parent.postMessage({ pluginMessage: { type: 'round-border', style: style, corners: corners, variable: variable, nested: nested, children: children, override: override }}, '*')
}

document.getElementById('close').onclick = () => {
  parent.postMessage({ pluginMessage: { type: 'close' } }, '*')
}

</script>
